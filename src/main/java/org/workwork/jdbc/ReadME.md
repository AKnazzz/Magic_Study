# Знакомимся с JDBC

В работе с любой реляционной базой данных, будь то PostgreSQL или какая-либо другая, применяются стандарты языка SQL. 
При этом разные базы могут реализовать дополнительные функции. Например, поддерживать особые типы данных и синтаксис, 
транзакции и так далее. 

Чтобы программисту было удобно работать с любой БД, в Java существует механизм **JDBC** (от англ. Java DataBase Connectivity 
— «связывание Java с базами данных»). JDBC позволяет не вникать в особенности подключения к конкретным базам данных 
и взаимодействовать с ними через универсальный интерфейс. Это особенно полезно на начальном этапе разработки ПО. 
Например, когда нужно быстро поменять базу данных на более производительную и удобную. 

## Механизм JDBC состоит из двух частей:  
- **Драйвер**, который взаимодействует с конкретной базой данных. Обычно его предоставляют разработчики базы, но бывают и открытые реализации от OpenSource-сообщества.
- **Клиентская часть**, с которой взаимодействует программист.

Внутри фреймворка Spring применяется реализация **JDBC JdbcTemplate** (англ. «шаблон JDBC»). Этот класс создали разработчики 
Spring на основе оригинальной библиотеки JDBC из Java Core (пакет java.sql). Мы будем говорить только о JdbcTemplate — 
как о компоненте, используемом внутри Spring. 

Клиент JDBC действует независимо от драйвера. Это позволяет программисту изолироваться от базы данных и её внутренних 
особенностей и работать со стандартными данными, которые заданы библиотеками JDBC и JdbcTemplate.

1. [ ] JDBC обеспечивает универсальное подключение к разным БД. JDBC использует драйверы для подключения и единый механизм работы с данными.
2. [ ] JDBC и JdbcTemplate — это разные реализации одного и того же механизма. Отличия только в аспектах реализации и некоторых методах.
3. [ ] Интерфейс JDBC не зависит от выбранной базы данных. Данные из любых БД будут представлены универсальным способом.

## Работа с БД через JDBC

### Первый этап — подключение приложения к СУБД. 
Оно происходит через драйвер JDBC. На этом этапе настраивается соединение с базой, а также подбирается и устанавливается 
нужный драйвер в виде зависимости проекта.
Для настройки подключения JDBC используется URL. Этот формат универсален и легко считывается человеком. Он позволяет 
описать адрес и параметры подключения к БД в виде одной строки. Строка относится к примитивным типам данных, поэтому 
её удобно хранить в файлах настройки и использовать программно.

### Второй и основной этап — маппинг (от англ. mapping — «отображение»).

Это преобразование полученных из БД данных в типы Java по определённым правилам. Данные в реляционных БД хранятся и 
обрабатываются в таблицах, состоящих из строк и столбцов. Данные в столбцах обычно имеют базовые типы — строка, число, 
дата и другие. Результат их преобразования зависит от конкретной задачи. В большинстве случаев наиболее удобный и 
простой способ — представить эти данные в виде объектов и коллекций Java.

- Преобразованные данные больше не зависят от подключенной базы данных и могут быть обработаны с помощью библиотеки.
  А также переданы в другие модули, сохранены в других форматах и так далее.
- JDBC обеспечивает подключение к БД по URL.
  URL выбран как универсальный способ для описания адреса подключения.

## Архитектурные решения для работы с БД

Обычно классы по работе с базой данных выносят в отдельный пакет и создают для них интерфейсы, которые скрывают детали 
работы с конкретной базой данных. Так образуется слой приложения, который называют DAL (от англ. Data Access Layer — 
«слой доступа к данным»).
Реализация DAL может состоять из одного или нескольких классов и включать в себя множество DAO (от англ. Data Access Object — 
«объект доступа к данным»). DAO — это класс, в котором содержится логика работы с БД для конкретной таблицы.
Использование этих архитектурных решений позволяет избежать дублирования кода подключения, убрать из реализации 
высокоуровневых алгоритмов всё лишнее. Детали процесса будут скрыты, и программист получит простой интерфейс для работы с данными в БД.