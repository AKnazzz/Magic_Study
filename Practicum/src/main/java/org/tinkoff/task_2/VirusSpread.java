package org.tinkoff.task_2;

import java.util.Scanner;

/*
  Хетаг подозревает, что заразился неизвестным вирусом.
  Прямо сейчас он сидит на лекции в университете и активно пытается выздороветь. Нам же известна следующая информация:
  1. Вирус очень заразный. Спустя минуту после заражения каждый носитель передает вирус всем людям, сидящим вокруг него и не имеющим иммунитета.
  2. Вирус совершенно безобидный. Человек болеет этим вирусом бессимптомно ровно одну минуту, после чего приобретает пожизненный иммунитет.
  Аудиторию, в которой проходит лекция, можно представить в виде бесконечной клетчатой сетки, в каждой ячейке которой сидит человек.
  Изначально Хетаг — единственный носитель вируса во всей аудитории.
  Соответственно, каждую минуту зараженные люди передают вирус своим соседям (клетки считаются соседними, если соприкасаются по стороне;
  у каждой клетки ровно 4 соседа), после чего моментально выздоравливают и больше не болеют.

  Определите количество зараженных на n-й минуте лекции.

  Формат входных данных:
  Первая и единственная строка содержит целое число n (1 <= n <= 100000000) — номер минуты, идущей от начала лекции.
  Для примера, n = 1 означает «первую» минуту, то есть отрезок времени длиной в минуту, начинающийся от самого начала лекции.

  Формат выходных данных:
  Выведите единственное число — количество зараженных на n-й минуте лекции.

  Пример 1
  Ввод: 1
  Вывод: 1

  Пример 2
  Ввод: 2
  Вывод: 4
 */

/*

## Модель распространения вируса:

1. В первый момент времени (n=1) заражается 1 человек (Хетаг).
2. На второй минуте (n=2) он заражает своих соседей (4 новых зараженных) но выздоравливает сам , и в этот момент у нас  зараженных (1 + 4) - 1 (который выздоровел).
3. На третьей минуте (n=3) каждый из новых зараженных также заражает своих соседей но выздоравливает сам, уже выздоровели, и мы должны вычесть их из общего числа.

Таким образом, общее количество активных зараженных на n-й минуте можно вычислить следующим образом:

- На каждой минуте добавляется количество новых зараженных, но вычитается количество тех, кто был заражен n-1 минуту назад.

### Формула:
- Активные зараженные на n-й минуте = (количество новых зараженных) - (количество выздоровевших)

 */

public class VirusSpread {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.println("Введите кол-во минут в диапазоне от 1 до 100000000: ");

        while (scanner.hasNext()) {
            long sum;
            long time = scanner.nextInt();
            if (time >= 1 && time <= 100000000) {
                if (time == 1) {
                    sum = 1;
                } else {
                    sum = 4 * (time - 1); // с учётом того что каждую минуту выздоравливают, то прирост идёт всего по 4 за 1 минуту
                }
                long count = 2 * time * time - 2 * time + 1;
                System.out.println("Кол-во заражённых на " + time + " минуте :  " + sum);
                System.out.println("Кол-во заражённых на (если бы не выздоравливали так быстро) " + time + " минуте :  " + count);
                System.out.println("Кол-во выздоровевших на " + time + " минуте :  " + (count-sum));
            } else {
                System.out.println("Ошибка: n должно быть в диапазоне от 1 до 100000000.");
            }
        }
    }
}